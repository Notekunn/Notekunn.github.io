{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/2020/08/30/huong-dan-setup-kma-support-phan-2/","result":{"data":{"markdownRemark":{"id":"4c7b2f4c-e54b-5720-b88c-de12abceb60c","html":"<h2 id=\"lời-mở-đầu\" style=\"position:relative;\"><a href=\"#l%E1%BB%9Di-m%E1%BB%9F-%C4%91%E1%BA%A7u\" aria-label=\"lời mở đầu permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LỜI MỞ ĐẦU</h2>\n<p><a href=\"/posts/2020/08/30/huong-dan-setup-kma-support-phan-1\">Xem phần trước</a>.</p>\n<p>Phần này mình sẽ hướng dẫn deploy service <code class=\"language-text\">api</code>.</p>\n<p><a href=\"https://github.com/kma-academy/kma-schedule-api\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Source code</a></p>\n<h2 id=\"cài-đặt\" style=\"position:relative;\"><a href=\"#c%C3%A0i-%C4%91%E1%BA%B7t\" aria-label=\"cài đặt permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cài đặt</h2>\n<ul>\n<li>\n<p>Tải source code về</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/kma-academy/kma-schedule-api\n<span class=\"token builtin class-name\">cd</span> kma-schedule-api</code></pre></div>\n</li>\n<li>\n<p>Install package</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span></code></pre></div>\n</li>\n</ul>\n<h2 id=\"cấu-hình\" style=\"position:relative;\"><a href=\"#c%E1%BA%A5u-h%C3%ACnh\" aria-label=\"cấu hình permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cấu hình</h2>\n<p>Tạo 1 file <code class=\"language-text\">.env</code> có cấu trúc tương tự file <code class=\"language-text\">.env.example</code>\nHoặc chạy lệnh sau(linux):</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">cp</span> .env.example .env</code></pre></div>\n<p>Trong đó:</p>\n<ul>\n<li><code class=\"language-text\">PORT</code>: port hoạt động của api.</li>\n<li><code class=\"language-text\">HOST_API</code>: Địa chỉ trang qldt(VD: <code class=\"language-text\">http://qldt.actvn.edu.vn</code>).</li>\n<li><code class=\"language-text\">TIME_ZONE</code>: Time zone server(VD: <code class=\"language-text\">Asia/Ho_Chi_Minh</code>).</li>\n<li><code class=\"language-text\">MONGODB_STRING</code>: Mongodb uri (<code class=\"language-text\">mongodb+srv://&lt;user&gt;:&lt;pass&gt;@&lt;host&gt;/&lt;api_database&gt;?retryWrites=true&amp;w=majority</code>).</li>\n<li><code class=\"language-text\">NODE_ENV</code>: Môi trường làm việc (<code class=\"language-text\">development</code> | <code class=\"language-text\">production</code>).</li>\n</ul>\n<h2 id=\"deploy\" style=\"position:relative;\"><a href=\"#deploy\" aria-label=\"deploy permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deploy</h2>\n<p>Build api document:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> run build:swagger</code></pre></div>\n<p>Run server:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> start</code></pre></div>\n<h2 id=\"develop\" style=\"position:relative;\"><a href=\"#develop\" aria-label=\"develop permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Develop</h2>\n<p>Develop api document:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> run develop:swagger</code></pre></div>\n<p>Develop server:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> run develop</code></pre></div>\n<p><a href=\"/posts/2020/08/30/huong-dan-setup-kma-support-phan-3\">Phần tiếp theo</a> mình sẽ hướng dẫn deploy service <code class=\"language-text\">bot</code></p>","fields":{"slug":"/posts/2020/08/30/huong-dan-setup-kma-support-phan-2/","tagSlugs":["/tag/javascript/","/tag/programming/","/tag/tutorial/","/tag/kma/"]},"frontmatter":{"date":"2020-08-30T12:30:00.000Z","description":"Cài đặt và cấu hình kma schedule api","tags":["Javascript","Programming","Tutorial","KMA"],"title":"Hướng dẫn setup KMA Support (Phần 2)","socialImage":null}}},"pageContext":{"slug":"/posts/2020/08/30/huong-dan-setup-kma-support-phan-2/"}},"staticQueryHashes":["251939775","401334301","825871152"]}